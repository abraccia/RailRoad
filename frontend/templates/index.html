<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RailRoad C2 - Command & Control</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='css/style.css') }}"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 bg-dark text-white sidebar">
          <div class="sidebar-sticky pt-3">
            <h4 class="text-center mb-4">
              <i class="fas fa-train"></i> RailRoad C2
            </h4>

            <!-- Client List -->
            <div class="mb-4">
              <h6>Connected Clients</h6>
              <div id="clientList" class="list-group">
                <!-- Clients will be populated by JavaScript -->
              </div>
            </div>

            <!-- Quick Stats -->
            <div class="mb-4">
              <h6>Statistics</h6>
              <div class="small">
                <div>Total Clients: <span id="totalClients">0</span></div>
                <div>Active Commands: <span id="activeCommands">0</span></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 main-content">
          <!-- Header -->
          <header class="py-3 border-bottom">
            <div class="row">
              <div class="col">
                <h2>Command Center</h2>
              </div>
              <div class="col-auto">
                <span class="badge bg-success" id="connectionStatus">
                  <i class="fas fa-circle"></i> Connected
                </span>
              </div>
            </div>
          </header>

          <!-- Command Input -->
          <div class="row mt-4">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">
                    <i class="fas fa-terminal"></i> Send Command
                  </h5>
                </div>
                <div class="card-body">
                  <form id="commandForm">
                    <div class="row">
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="commandInput"
                          placeholder="Enter command (e.g., whoami, ls -la, etc.)"
                        />
                      </div>
                      <div class="col-md-3">
                        <select class="form-select" id="clientSelect">
                          <option value="broadcast">Broadcast to All</option>
                        </select>
                      </div>
                      <div class="col-md-1">
                        <button type="submit" class="btn btn-primary w-100">
                          <i class="fas fa-paper-plane"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <!-- Command History -->
          <div class="row mt-4">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">
                    <i class="fas fa-history"></i> Command History
                  </h5>
                </div>
                <div class="card-body">
                  <div id="commandHistory" class="command-history">
                    <!-- Command history will be populated here -->
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Results Area -->
          <div class="row mt-4">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">
                    <i class="fas fa-file-alt"></i> Command Results
                  </h5>
                </div>
                <div class="card-body">
                  <div id="commandResults" class="command-results">
                    <p class="text-muted">
                      Command results will appear here...
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
  </body>
</html>
